import flask

app = flask.Flask(__name__)

@app.route("/")
def index():
	# Default Response Code
	response_code = 200

	# Parse Body
	f = open("body.html", "r")
	body = f.read()

	# Parse headers
	headers = {}
	for header in open("headers.txt", "r"):
		# Get response code from file
		if ":" not in header:
			response_code = int(header.split(" ")[1])
			continue

		# Get headers from file
  		line = header.strip().split(":")
		key = line[0]
		value = line[1][1:] # Remove trailing space
		headers[key] = value

	return (body, response_code, headers.items())


@app.route("/204")
def return204():
	return "", 204


app.run(host="0.0.0.0", port=8080, debug=True)

